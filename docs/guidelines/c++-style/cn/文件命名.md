---
name: "project-cpp-naming-style"
description: "OpenCTK项目C++文件命名风格。在处理OpenCTK C++代码时调用，以遵循项目的命名风格。"
---

# OpenCTK项目C++文件命名风格

[English Version](../file-naming.md)

## 概述

本文档描述了OpenCTK项目中使用的C++文件命名规范。遵循这些规范可以确保代码库的一致性，提高代码的可读性和可维护性。

## 核心命名原则

1. **一致性**：在整个项目中遵循相同的命名规范
2. **清晰性**：文件名应清晰反映其内容
3. **可移植性**：仅使用ASCII字符，避免空格和特殊字符
4. **可读性**：选择易于阅读和理解的名称
5. **前缀**：所有文件使用`octk_`前缀（OpenCTK的缩写）

## 文件命名规范

### 命名风格

- **风格**：蛇形命名法（小写字母加下划线）
- **示例**：`octk_platform_thread_posix.cpp`，`octk_sdp_video_format.hpp`

### 文件扩展名

| 文件类型 | 扩展名 | 示例 |
|-----------|-----------|---------|
| 头文件 | `.hpp` | `octk_strong_alias.hpp` |
| 源文件 | `.cpp` | `octk_platform_thread_posix.cpp` |
| 接口文件 | `.hpp` 带 `_interface` 后缀 | `octk_rtp_sender_interface.hpp` |
| 模板实现文件 | `.ipp`, `.tpp` | `octk_template_container.ipp`, `octk_template_container.tpp` |

### 特殊文件命名规则

#### 1. 类文件

- 每个文件一个类（推荐）
- 文件名使用蛇形命名法匹配类名
- 示例：对于类`StrongAlias`，使用`octk_strong_alias.hpp`

#### 2. 接口文件

- 在文件名中添加`_interface`后缀
- 示例：`octk_rtp_sender_interface.hpp`

#### 3. 平台特定文件

- 在文件名末尾添加平台标识符
- 平台标识符：`posix`、`win`、`mac`、`linux`
- 示例：`octk_platform_thread_posix.cpp`

#### 4. 测试文件

- 使用`tst_`前缀
- 示例：`tst_strong_alias.cpp`

#### 5. 工具文件

- 使用能表明功能的描述性名称
- **示例**：`octk_string_utils.hpp`，`octk_math_helpers.cpp`

#### 6. 模板文件

- 遵循与普通类文件相同的命名规则
- 模板声明通常在 `.hpp` 文件中
- 模板实现可以放在：
  - 同一个 `.hpp` 文件中（更简单，但可能增加编译时间）
  - 单独的 `.ipp` 或 `.tpp` 文件中（更好地分离声明和实现）
- **示例**：`octk_template_container.hpp`（声明），`octk_template_container.ipp`（实现）

## 目录结构

OpenCTK项目遵循模块化目录结构：

```
src/
├── libs/
│   ├── core/
│   │   ├── source/
│   │   │   ├── thread/
│   │   │   │   └── octk_platform_thread_posix.cpp
│   │   │   └── tools/
│   │   │       └── octk_strong_alias.hpp
│   │   └── tests/
│   │       └── tst_strong_alias.cpp
│   ├── media/
│   │   ├── source/
│   │   │   ├── codecs/
│   │   │   │   └── video/
│   │   │   │       └── octk_sdp_video_format.cpp
│   │   │   ├── rtp/
│   │   │   │   └── octk_rtp_sender_interface.hpp
│   │   │   └── video/
│   │   │       └── octk_hdr_metadata.hpp
│   │   └── tests/
│   └── network/
└── apps/
    └── ...
```

## 命名示例

| 文件类型 | 示例文件名 | 描述 |
|-----------|------------------|-------------|
| 类文件 | `octk_strong_alias.hpp` | `StrongAlias`类的头文件 |
| 源文件 | `octk_platform_thread_posix.cpp` | 平台线程的POSIX特定实现 |
| 接口文件 | `octk_rtp_sender_interface.hpp` | RTP发送器接口定义 |
| 测试文件 | `tst_strong_alias.cpp` | `StrongAlias`类的测试文件 |
| 工具文件 | `octk_sdp_video_format.cpp` | SDP视频格式工具 |

## 与其他命名风格的比较

| 风格 | OpenCTK使用情况 | 示例 |
|-------|---------------|---------|
| 蛇形命名法 | ✅ 推荐 | `octk_platform_thread_posix.cpp` |
| 小驼峰命名法 | ❌ 不使用 | `octkPlatformThreadPosix.cpp` |
| 大驼峰命名法 | ❌ 不使用 | `OctkPlatformThreadPosix.cpp` |
| 无分隔符小写 | ❌ 不使用 | `octkplatformthreadposix.cpp` |

## 最佳实践

1. **始终使用`octk_`前缀**：所有文件必须使用`octk_`前缀，以避免名称冲突
2. **描述性命名**：选择清晰描述文件内容的名称
3. **遵循目录结构**：根据文件功能将其放置在适当的目录中
4. **使用一致的扩展名**：
   - `.hpp`用于头文件和模板声明
   - `.cpp`用于源文件
   - `.ipp`或`.tpp`用于模板实现
5. **添加适当的后缀**：接口文件使用`_interface`，平台特定文件使用平台标识符，测试文件使用`tst_`
6. **分离模板声明和实现**：考虑使用`.ipp`或`.tpp`文件存放模板实现，以提高代码组织性
7. **避免缩写**：尽可能使用完整单词以提高可读性
8. **保持文件名简洁**：在描述性的同时，避免过长的文件名

## 常见错误避免

1. **缺少`octk_`前缀**：所有文件必须使用`octk_`前缀
2. **不一致的大小写**：始终使用蛇形命名法
3. **错误的文件扩展名**：
   - 头文件和模板声明使用`.hpp`
   - 源文件使用`.cpp`
   - 模板实现使用`.ipp`或`.tpp`
4. **通用文件名**：避免使用`utils.hpp`或`common.cpp`等无上下文的名称
5. **文件名与内容不匹配**：确保文件名准确反映文件内容
6. **通用文件中包含平台特定代码**：平台特定代码应使用平台标识符
7. **不必要地混合模板声明和实现**：对于复杂模板，考虑使用单独的`.ipp`或`.tpp`文件

## 结论

遵循这些C++文件命名规范可以确保OpenCTK代码库的一致性，提高代码质量。在创建新文件或修改现有文件时，请始终参考本文档。

[English Version](../file-naming.md)